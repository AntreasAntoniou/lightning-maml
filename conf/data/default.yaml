# @package _group_



datamodule:
  _target_: pl.datamodule.MetaDataModule


  datasets:
    train:
      _target_: torchmeta.datasets.Omniglot
      root: ${env:DATASET_PATH}
      meta_train: True
      download: True

    val:
      _target_: torchmeta.datasets.Omniglot
      root: ${env:DATASET_PATH}
      meta_val: True
      download: True

    test:
      _target_: torchmeta.datasets.Omniglot
      root: ${env:DATASET_PATH}
      meta_test: True
      download: True

  nway: 5
  num_inner_steps: 1
  num_meta_batches: 1000

  transforms:
    - _target_: torchvision.transforms.Resize
      size: 28
    - _target_: torchvision.transforms.ToTensor

  target_transform:
    _target_: torchmeta.transforms.Categorical

  class_augmentations:
    - _target_: common.transform.Rotation
      angle:
        - 90
        - 180
        - 270

  batch_size:
    train: 20
    val: 20
    test: 20

  kshot:
    support: 5
    query: 5

  num_workers:
    train: 2
    val: 2
    test: 2